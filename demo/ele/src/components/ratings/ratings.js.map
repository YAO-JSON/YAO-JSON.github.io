{"version":3,"sources":["../../../../src/components/ratings/ratings.js"],"names":["POSITIVE","NEGATIVE","ALL","data","showFlag","onlyContent","selectType","ratings","props","seller","type","Object","created","refreshBScroll","components","Star","Split","Ratingselect","methods","$nextTick","scroll","$refs","click","refresh","changeType","console","log","toggleContent","bool","format","time","formatDate","needShow","text"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAKA;;;;AAJA,IAAMA,WAAW,CAAjB;AACA,IAAMC,WAAW,CAAjB;AACA;AACA,IAAMC,MAAM,CAAZ;kBAEe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,gBAAU,KADL;AAELC,mBAAa,KAFR;AAGLC,kBAAYJ,GAHP;AAILK,eAAS;AAJJ,KAAP;AAMD,GARY;;AASbC,SAAO;AACLC,YAAQ;AACNC,YAAMC;AADA;AADH,GATM;AAcbC,SAda,qBAcH;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKL,OAAL;AACA,SAAKM,cAAL;AACD,GAxBY;;AAyBbC,cAAY,EAAEC,oBAAF,EAAQC,sBAAR,EAAeC,oCAAf,EAzBC;AA0BbC,WAAS;AACPL,kBADO,4BACU;AAAA;;AACf,WAAKM,SAAL,CAAe,YAAM;AACnB,YAAI,CAAC,MAAKC,MAAV,EAAkB;AAChB,gBAAKA,MAAL,GAAc,2BAAY,MAAKC,KAAL,CAAWd,OAAvB,EAAgC;AAC5Ce,mBAAO;AADqC,WAAhC,CAAd;AAGD,SAJD,MAIO;AACL,gBAAKF,MAAL,CAAYG,OAAZ;AACD;AACF,OARD;AASD,KAXM;AAYPC,cAZO,sBAYId,IAZJ,EAYU;AACfe,cAAQC,GAAR,CAAYhB,IAAZ;AACA,WAAKJ,UAAL,GAAkBI,IAAlB;AACA,WAAKG,cAAL;AACD,KAhBM;AAiBPc,iBAjBO,yBAiBOC,IAjBP,EAiBa;AAClB,WAAKvB,WAAL,GAAmBuB,IAAnB;AACA,WAAKf,cAAL;AACD,KApBM;AAqBPgB,UArBO,kBAqBAC,IArBA,EAqBM;AACX,aAAO,KAAKC,UAAL,CAAgBD,IAAhB,EAAsB,qBAAtB,CAAP;AACD,KAvBM;AAwBPE,YAxBO,oBAwBEtB,IAxBF,EAwBQuB,IAxBR,EAwBc;AACnB,UAAI,KAAK5B,WAAL,IAAoB,CAAC4B,IAAzB,EAA+B;AAC7B,eAAO,KAAP;AACD;AACD,UAAI,KAAK3B,UAAL,KAAoBJ,GAAxB,EAA6B;AAC3B,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAKI,UAAL,KAAoBI,IAA3B;AACD;AACF;AAjCM;AA1BI,C","file":"ratings.js","sourcesContent":["import Star from 'components/star/star.vue';\nimport Split from 'components/split/split.vue';\nimport Ratingselect from 'components/ratingselect/ratingselect.vue';\nimport BScroll from 'better-scroll';\nconst POSITIVE = 0;\nconst NEGATIVE = 1;\n// const ERR_OK = 0;\nconst ALL = 2;\nimport { ratings } from '../../../data.json';\nexport default {\n  data() {\n    return {\n      showFlag: false,\n      onlyContent: false,\n      selectType: ALL,\n      ratings: []\n    };\n  },\n  props: {\n    seller: {\n      type: Object\n    }\n  },\n  created() {\n    // this.$http.get('/api/ratings').then((res) => {\n    //   res = res.body;\n    //   if (res.errno === ERR_OK) {\n    //     this.ratings = res.data;\n    //     this.refreshBScroll();\n    //   }\n    // });\n    this.ratings = ratings;\n    this.refreshBScroll();\n  },\n  components: { Star, Split, Ratingselect },\n  methods: {\n    refreshBScroll() {\n      this.$nextTick(() => {\n        if (!this.scroll) {\n          this.scroll = new BScroll(this.$refs.ratings, {\n            click: true\n          });\n        } else {\n          this.scroll.refresh();\n        }\n      });\n    },\n    changeType(type) {\n      console.log(type);\n      this.selectType = type;\n      this.refreshBScroll();\n    },\n    toggleContent(bool) {\n      this.onlyContent = bool;\n      this.refreshBScroll();\n    },\n    format(time) {\n      return this.formatDate(time, 'YYYY-MM-DD hh:mm:ss');\n    },\n    needShow(type, text) {\n      if (this.onlyContent && !text) {\n        return false;\n      }\n      if (this.selectType === ALL) {\n        return true;\n      } else {\n        return this.selectType === type;\n      }\n    }\n  }\n};\n"]}