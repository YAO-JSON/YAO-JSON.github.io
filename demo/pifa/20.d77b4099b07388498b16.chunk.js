webpackJsonp([20],{263:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(4),n=e.n(s);a.default={data:function(){return{date:{start:"",end:"",dateBtnActive:!1},orderNum:"",payment:"",pay_status:"",self:this,pagination:{},assetData:[],assetList:[{title:"结算时间",key:"time",render:function(t){return"{{format(row.created_at)}}"}},{title:"订单号",key:"tradeid"},{title:"支付方式",key:"payment",render:function(t){return 0==t.payment?"余额支付":1==t.payment?"微信支付":2==t.payment?"支付宝付款":3==t.payment?"货到付款":t.payment}},{title:"金额(元)",key:"money"},{title:"交易状态",key:"pay_status",render:function(t){return 1==t.pay_status?'<span style="color:green;">交易成功</span>':0==t.pay_status?'<span style="color:red;">交易失败</span>':void 0}}]}},created:function(){this.getAsset()},methods:{getAsset:function(){var t=this;this.fetch("/home/trade/index").then(function(a){1==a.data.code&&a.data.data&&(t.assetData=a.data.data.data,t.pagination=a.data.data.pagination)})},search:function(){var t=this,a=[];this.date.start&&this.date.end&&(a.push("start_time="+this.format(this.date.start)),a.push("end_time="+this.format(this.date.end))),this.payment&&a.push("payment="+this.payment),this.orderNum&&a.push("keyword="+this.orderNum),this.pay_status&&a.push("pay_status="+this.pay_status),a.length||this.$Message.error("请输入正确的查询条件"),this.fetch("/home/trade/search_trade?"+a.join("&")).then(function(a){1==a.data.code&&a.data.data&&(t.assetData=a.data.data.data,t.pagination=a.data.data.pagination)})},changePage:function(t){var a=this,e=[];e.push("page="+t),this.date.start&&this.date.end&&(e.push("start_time="+this.format(this.date.start)),e.push("end_time="+this.format(this.date.end))),this.payment&&e.push("payment="+this.payment),this.orderNum&&e.push("keyword="+this.payment),this.pay_status&&e.push("pay_status="+this.pay_status),this.fetch("/home/trade/index?"+e.join("&")).then(function(t){1==t.data.code&&t.data.data&&(a.assetData=t.data.data.data,a.pagination=t.data.data.pagination)})},exportTrade:function(){window.open(n.a.defaults.baseURL+"/home/trade/export?Authorization="+n.a.defaults.headers.common.Authorization+"&WxaToken="+n.a.defaults.headers.common.WxaToken)},reset:function(){this.date={start:"",end:"",dateBtnActive:!1},this.orderNum="",this.payment="",this.pay_status=""},day:function(t){this.date.start=new Date((new Date).getTime()-24*t*3600*1e3),this.date.end=new Date,this.date.dateBtnActive=!0}}}},552:function(t,a){},598:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{padding:"10px"}},[e("Row",{staticStyle:{background:"#f8f8f8",padding:"10px 20px","margin-bottom":"10px"}},[e("Col",{staticClass:"select",attrs:{span:"4"}},[e("Input",{attrs:{placeholder:"订单号"},model:{value:t.orderNum,callback:function(a){t.orderNum=a},expression:"orderNum"}})],1),t._v(" "),e("Col",{staticClass:"select",attrs:{span:"4"}},[e("Date-picker",{attrs:{type:"datetime",placeholder:"选择开始日期和时间",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.date.start,callback:function(a){t.date.start=a},expression:"date.start"}})],1),t._v(" "),e("Col",{attrs:{span:"1"}},[e("div",{staticClass:"select",staticStyle:{height:"32px","line-height":"32px","text-align":"center"}},[t._v("至")])]),t._v(" "),e("Col",{staticClass:"select",attrs:{span:"4"}},[e("Date-picker",{attrs:{type:"datetime",placeholder:"选择结束日期和时间",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.date.end,callback:function(a){t.date.end=a},expression:"date.end"}})],1),t._v(" "),e("Col",{staticClass:"select",attrs:{span:"4",s:""}},[e("Button",{staticStyle:{"margin-right":"10px"},on:{click:function(a){t.day("7")}}},[t._v("近7天")]),t._v(" "),e("Button",{on:{click:function(a){t.day("30")}}},[t._v("近30天")])],1),t._v(" "),e("Col",{staticClass:"select",attrs:{span:"24"}},[e("Button",{attrs:{type:"error"},on:{click:t.reset}},[t._v("\n                        重置\n                    ")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1),t._v(" "),e("Row",[e("Table",{attrs:{context:t.self,data:t.assetData,columns:t.assetList,stripe:""}}),t._v(" "),e("div",{staticStyle:{margin:"10px 0",overflow:"hidden"}},[e("div",{staticStyle:{float:"left"}},[e("Button",{attrs:{type:"primary"},on:{click:t.exportTrade}},[t._v("导出")])],1),t._v(" "),e("div",{staticStyle:{float:"right"}},[e("Page",{attrs:{total:t.pagination.rowCount,current:t.pagination.page,"page-size":t.pagination.pageSize},on:{"on-change":t.changePage}})],1)])],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},67:function(t,a,e){e(552);var s=e(6)(e(263),e(598),null,null);s.options.__file="/Users/yaojiasong/YJSON/boke/vue/pingful-pifa-www/src/pages/home/asset/index.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),s.options.functional,t.exports=s.exports}});