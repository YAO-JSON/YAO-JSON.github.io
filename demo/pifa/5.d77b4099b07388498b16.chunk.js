webpackJsonp([5],{251:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(22),i=a.n(n),s=a(565),r=a.n(s);e.default={data:function(){return{mainMenuActive:{id:"",name:""},umpValidAlert:!1,umpValid:!0,umpName:"",umpAvater:"",copyright:this.getCoryright(),logo:r.a}},props:{username:{default:"admin"},avater:{default:i.a},logoLink:{default:"/home/wxa"},umpUrl:{default:"/home/ump/dashboard"},umpId:{default:16},avaterMenu:{default:function(){return[{name:"账号设置",url:""},{name:"退出登录",url:""}]}},wxaAvater:{default:i.a},wxaName:{default:""},ceilingMenu:{default:function(){return[{name:"首页",url:""},{name:"帮助中心",url:""}]}},mainMenu:{default:function(){return[{name:"概况",icon:"cube",sub:[{name:"概况1",url:""},{name:"概况2",url:""}]}]}}},created:function(){var t=this.$route.fullPath;this.selectMainMenu(t),this.$bus.on("updateMainMenuTitle",this.updateMainMenuTitle),this.$bus.on("updateMainMenuActive",this.updateMainMenuActive)},methods:{getMenuName:function(t,e){return t+"-"+e},selectMenu:function(t){if(!this.umpValid)return this.isHttpUrl(this.umpUrl)?void(location.href=this.umpUrl):void this.$router.push(this.umpUrl);var e=t.split("-"),a=this.mainMenu[e[0]].sub[e[1]];this.mainMenuActive={id:this.getMenuName(e[0],e[1]),name:a.name},a.url&&(this.isHttpUrl(a.url)?window.open(a.url,"_self"):this.$router.push(a.url))},updateMainMenuTitle:function(t){this.mainMenuActive.name=t},updateMainMenuActive:function(t){this.mainMenuActive.id=t},selectMainMenu:function(t){for(var e in this.mainMenu)for(var a in this.mainMenu[e].sub)this.mainMenu[e].sub[a].url===t&&(this.mainMenuActive={id:this.getMenuName(e,a),name:this.mainMenu[e].sub[a].name})},clickLogo:function(){this.isHttpUrl(this.logoLink)?window.open(this.logoLink,"_self"):(this.selectMainMenu(this.logoLink),this.$router.push(this.logoLink))},getChangeWxaUrl:function(){return"http://wxa."+this.$Copyright+"/home/wxa"}}}},269:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(571),i=a.n(n);e.default={data:function(){return{mainMenu:[{name:"商城首页",icon:"monitor",sub:[{name:"数据分析",url:"/home/workbench/index"}]},{name:"商城管理",icon:"ios-cart",sub:[{name:"属性菜单",url:"/home/shop/skuMenu"},{name:"菜单管理",url:"/home/shop/menu"},{name:"商品管理",url:"/home/shop/goods"},{name:"评论管理",url:"/home/shop/comments"}]},{name:"广告管理",icon:"ribbon-a",sub:[{name:"广告列表",url:"/home/adver/list"}]},{name:"订单",icon:"podium",sub:[{name:"订单管理",url:"/home/order/index"},{name:"售后类型",url:"/home/order/after-sales-type"}]},{name:"资产管理",icon:"cash",sub:[{name:"收支明细",url:"/home/asset/index"}]},{name:"应用插件",icon:"ios-filing",sub:[{name:"插件管理",url:"/home/addons/index"}]},{name:"设置",icon:"ios-gear",sub:[{name:"商城信息",url:"/home/config/shop"},{name:"单位管理",url:"/home/config/unit-set"}]}],avaterMenu:[{name:"小程序平台",url:"http://wxa.qingful.com/home/analysis/summary"}],avater:"",username:"",wxaAvater:"",wxaName:"",umpUrl:"http://wxa.qingful.com/home/ump/dashboard",wxaMenu:[{name:"切换小程序",url:"http://wxa.qingful.com/home/wxa"}]}},components:{Layout:i.a},created:function(){var t=this;this.fetch("https://api.qingful.com/home/base/get_custom_info").then(function(e){e&&e.data.data&&(t.avater=t.getAvater(e.data.data.avater),t.username=e.data.data.nickname)}),this.fetch("https://api.qingful.com/home/base/get_wxa_info").then(function(e){e&&e.data.data&&(t.wxaAvater=e.data.data.head_img,t.wxaName=e.data.data.nick_name)})}}},541:function(t,e){},550:function(t,e){},565:function(t,e,a){t.exports=a.p+"e3db68236c1394e26084fbab3674f475.png"},571:function(t,e,a){a(550);var n=a(6)(a(251),a(596),"data-v-8969afd2",null);n.options.__file="/Users/yaojiasong/YJSON/boke/vue/pingful-pifa-www/src/components/layout.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),n.options.functional,t.exports=n.exports},581:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("Layout",{attrs:{"main-menu":t.mainMenu,"avater-menu":t.avaterMenu,"logo-link":"/home/workbench/index",username:t.username,umpUrl:t.umpUrl,"wxa-avater":t.wxaAvater,"wxa-name":t.wxaName,"wxa-menu":t.wxaMenu,avater:t.avater}})},staticRenderFns:[]},t.exports.render._withStripped=!0},596:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("div",{staticClass:"layout-ceiling"},[a("div",{staticClass:"layout-ceiling-main"},t._l(t.ceilingMenu,function(e,n){return a("div",{key:"index"},[t.isFn(e.url)?a("a",{on:{click:e.url}},[t._v(t._s(e.name)),t.ceilingMenu.length-1!==n?a("span",[t._v(" | ")]):t._e()]):t._e(),t._v(" "),!t.isFn(e.url)&&t.isHttpUrl(e.url)?a("a",{attrs:{href:e.url}},[t._v(t._s(e.name)),t.ceilingMenu.length-1!==n?a("span",[t._v(" | ")]):t._e()]):t._e(),t._v(" "),t.isFn(e.url)||t.isHttpUrl(e.url)?t._e():a("router-link",{attrs:{to:e.url}},[t._v(t._s(e.name)),t.ceilingMenu.length-1!==n?a("span",[t._v(" | ")]):t._e()])],1)}))]),t._v(" "),a("Menu",{attrs:{mode:"horizontal"}},[a("div",{staticClass:"layout-nav"},[a("div",{staticClass:"layout-logo"},[a("a",{on:{click:t.clickLogo}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.logo,expression:"logo"}],staticStyle:{height:"40px"}})])]),t._v(" "),a("div",{staticClass:"layout-assistant"},[a("Dropdown",{attrs:{trigger:"click"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avater,expression:"avater"}],staticStyle:{"margin-top":"15px"}}),t._v(" "),a("Dropdown-menu",{staticStyle:{"text-align":"center",width:"100px",overflow:"hidden"},slot:"list"},[a("div",{staticStyle:{height:"90px"}},[a("div",{staticStyle:{height:"40px"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avater,expression:"avater"}],staticStyle:{"margin-top":"15px"}})]),t._v(" "),a("div",{staticClass:"text_overflow text_overflow_line_1"},[t._v(t._s(t.username))])]),t._v(" "),t._l(t.avaterMenu,function(e,n){return a("div",{key:n},[t.isHttpUrl(e.url)?t._e():a("router-link",{attrs:{to:e.url}},[a("Dropdown-item",[t._v(t._s(e.name))])],1),t._v(" "),t.isHttpUrl(e.url)?a("a",{attrs:{href:e.url}},[a("Dropdown-item",[t._v(t._s(e.name))])],1):t._e()],1)})],2)],1)],1),t._v(" "),t.wxaName&&t.wxaAvater?a("div",{staticClass:"layout-assistant"},[a("Dropdown",{attrs:{trigger:"click"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.wxaAvater,expression:"wxaAvater"}],staticStyle:{"margin-top":"15px"}}),t._v(" "),a("Dropdown-menu",{staticStyle:{"text-align":"center",width:"100px",overflow:"hidden"},slot:"list"},[a("div",{staticStyle:{height:"90px"}},[a("div",{staticStyle:{height:"40px"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.wxaAvater,expression:"wxaAvater"}],staticStyle:{"margin-top":"15px"}})]),t._v(" "),a("div",{staticClass:"text_overflow text_overflow_line_1"},[t._v(t._s(t.wxaName))])]),t._v(" "),a("div",[t.umpId?t._e():a("router-link",{attrs:{to:"/home/wxa"}},[a("Dropdown-item",[t._v("切换小程序")])],1),t._v(" "),t.umpId?a("a",{attrs:{href:t.getChangeWxaUrl()}},[a("Dropdown-item",[t._v("切换小程序")])],1):t._e()],1)])],1)],1):t._e(),t._v(" "),t.umpId?a("div",{staticClass:"layout-assistant"},[a("Dropdown",{attrs:{trigger:"click"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.umpAvater,expression:"umpAvater"}],staticStyle:{"margin-top":"15px"}}),t._v(" "),a("Dropdown-menu",{staticStyle:{"text-align":"center",width:"100px",overflow:"hidden"},slot:"list"},[a("div",{staticStyle:{height:"90px"}},[a("div",{staticStyle:{height:"40px"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.umpAvater,expression:"umpAvater"}],staticStyle:{"margin-top":"15px"}})]),t._v(" "),a("div",{staticClass:"text_overflow text_overflow_line_1"},[t._v(t._s(t.umpName))])])])],1)],1):t._e()])]),t._v(" "),a("div",{staticClass:"layout-content"},[a("Row",[a("i-col",{attrs:{span:"4"}},[a("Menu",{staticClass:"layout-menu-main",attrs:{"active-name":t.mainMenuActive.id},on:{"on-select":t.selectMenu}},t._l(t.mainMenu,function(e,n){return a("div",{key:"index",staticClass:"layout-menu-main-item"},[a("div",{staticClass:"ivu-menu-item-group-title",staticStyle:{"padding-left":"30px"}},[a("Icon",{attrs:{type:e.icon,size:"18"}}),t._v(" "),a("span",{staticStyle:{"font-size":"16px","margin-left":"3px"}},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.sub,function(e,i){return a("Menu-item",{key:"i",staticClass:"layout-menu-main-subitem",attrs:{name:t.getMenuName(n,i),url:e.url}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})],2)}))],1),t._v(" "),a("i-col",{attrs:{span:"20"}},[a("div",{staticClass:"layout-content-main"},[t.umpValidAlert?a("Alert",{staticStyle:{"margin-top":"20px"},attrs:{type:"warning",id:"ump_valid","show-icon":""}},[t.umpValid?t._e():a("template",{slot:"desc"},[a("span",{staticStyle:{color:"#fff"}},[t._v("您当前订购的营销应用已过期，影响正常运营，请订购。")]),t._v(" "),t.isHttpUrl(t.umpUrl)?t._e():a("router-link",{attrs:{to:t.umpUrl}},[a("Button",{attrs:{type:"ghost"}},[t._v("立即订购")])],1),t._v(" "),t.isHttpUrl(t.umpUrl)?a("a",{attrs:{href:t.umpUrl}},[a("Button",{attrs:{type:"ghost"}},[t._v("立即订购")])],1):t._e()],1),t._v(" "),t.umpValid?a("template",{slot:"desc"},[a("span",{staticStyle:{color:"#fff"}},[t._v("您当前订购的营销应用即将过期，剩余"+t._s(t.umpValid.valid_days)+"天，影响正常运营，请订购。\n                            ")]),t._v(" "),t.isHttpUrl(t.umpUrl)?t._e():a("router-link",{attrs:{to:t.umpUrl}},[a("Button",{attrs:{type:"ghost"}},[t._v("立即订购")])],1),t._v(" "),t.isHttpUrl(t.umpUrl)?a("a",{attrs:{href:t.umpUrl}},[a("Button",{attrs:{type:"ghost"}},[t._v("立即订购")])],1):t._e()],1):t._e()],2):t._e(),t._v(" "),a("div",{staticClass:"layout-content-main-header"},[t._v(t._s(t.mainMenuActive.name))]),t._v(" "),a("router-view")],1)])],1)],1),t._v(" "),a("Back-top"),t._v(" "),a("div",{staticClass:"layout-copy"},[t._v("\n        Copyright © 2016 - 2017 "+t._s(t.copyright)+" All Rights Reserved\n    ")])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},73:function(t,e,a){a(541);var n=a(6)(a(269),a(581),null,null);n.options.__file="/Users/yaojiasong/YJSON/boke/vue/pingful-pifa-www/src/pages/home/layout.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),n.options.functional,t.exports=n.exports}});