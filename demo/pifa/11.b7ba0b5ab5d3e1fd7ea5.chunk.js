webpackJsonp([11],{278:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{dialog:{isOpen:!1,title:"",row:null,id:""},self:this,datagridHeader:[{title:"菜单名称",key:"name"},{title:"状态",key:"status",render:function(t){return 0==t.status?"关闭":"开启"}},{title:"创建时间",key:"created_at",render:function(t){var e=new Date(t.created_at);return[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")+"  "+[e.getHours(),e.getMinutes(),e.getSeconds()].join(":")}},{title:"操作",key:"opt",render:function(t){return'<i-button type="primary" @click="alterRowData(row)" size="small">修改</i-button>'}}],datagridData:[],skuMenuForm:{name:""},ruleValiDate:{name:[{required:!0,message:"请输入菜单名称！",trigger:"blur"}]}}},created:function(){this.getSkumenuData()},methods:{getSkumenuData:function(){var t=this;this.fetch("/home/product/all_sku").then(function(e){1==e.data.code&&e.data.data&&(t.datagridData=e.data.data)})},addSuk:function(t){this.dialog.title="新增SKU菜单",this.dialog.isOpen=!0,this.skuMenuForm.name="",this.dialog.id=""},optRowStatus:function(t){var e=this;t.status=0==t.status?"1":"0",this.datagridData[t._index].status=t.status,this.fetch("/home/product/add_sku",{status:t.status,id:t.id,name:t.name}).then(function(t){200!==t.status&&e.$Message.error("修改失败")})},alterRowData:function(t){this.dialog.title="修改SKU菜单 ",this.dialog.isOpen=!0,this.skuMenuForm.name=t.name,this.dialog.row=t},ok:function(t,e){e.$refs[t].validate(function(t){if(t){e.dialog.isOpen=!1;var a={status:1,name:e.skuMenuForm.name};e.dialog.row?(a.id=e.dialog.row.id,a.status=e.dialog.row.status):e.datagridData.push({name:e.skuMenuForm.name,status:1,created_at:new Date}),e.fetch("/home/product/add_sku",a).then(function(t){200==t.status&&(e.getSkumenuData(),e.$Message.success("添加成功"))})}else e.$Message.error("添加失败");e.skuMenuForm.name="",e.dialog.id=""})}}}},546:function(t,e){},590:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticStyle:{background:"#f8f8f8",padding:"10px 20px","margin-bottom":"10px"}},[a("Col",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.addSuk()}}},[t._v(" 新增属性菜单")]),t._v(" "),a("Modal",{attrs:{title:t.dialog.title},on:{"on-ok":function(e){t.ok("formValidate",t.self)}},model:{value:t.dialog.isOpen,callback:function(e){t.dialog.isOpen=e},expression:"dialog.isOpen"}},[a("Form",{ref:"formValidate",attrs:{model:t.skuMenuForm,rules:t.ruleValiDate,"label-width":100}},[a("Form-item",{attrs:{label:"菜单名称：",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入菜单名称！"},model:{value:t.skuMenuForm.name,callback:function(e){t.skuMenuForm.name=e},expression:"skuMenuForm.name"}})],1)],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",[a("Table",{attrs:{context:t.self,columns:t.datagridHeader,data:t.datagridData}})],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},81:function(t,e,a){a(546);var n=a(6)(a(278),a(590),null,null);n.options.__file="/Users/yaojiasong/YJSON/boke/vue/pingful-pifa-www/src/pages/home/shop/skuMenu.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),n.options.functional,t.exports=n.exports}});